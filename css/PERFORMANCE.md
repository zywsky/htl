# CSSæ€§èƒ½ä¼˜åŒ–æŒ‡å—

## ğŸš€ æ€§èƒ½ä¼˜åŒ–åŸåˆ™

### 1. å‡å°‘é‡æ’ï¼ˆReflowï¼‰

**ä»€ä¹ˆæ˜¯é‡æ’ï¼Ÿ**
- æµè§ˆå™¨é‡æ–°è®¡ç®—å…ƒç´ çš„ä½ç½®å’Œå¤§å°
- è§¦å‘æ¡ä»¶ï¼šæ”¹å˜å½±å“å¸ƒå±€çš„å±æ€§

**è§¦å‘é‡æ’çš„å±æ€§ï¼š**
```css
/* é¿å…é¢‘ç¹ä¿®æ”¹è¿™äº›å±æ€§ */
width, height
margin, padding
border
display
position
top, left, right, bottom
```

**ä¼˜åŒ–æ–¹æ³•ï¼š**
```css
/* ä½¿ç”¨transformä»£æ›¿ä½ç½®å±æ€§ */
.element {
    transform: translateX(100px);  /* ä¸ä¼šè§¦å‘é‡æ’ */
    /* è€Œä¸æ˜¯ left: 100px; */
}
```

---

### 2. å‡å°‘é‡ç»˜ï¼ˆRepaintï¼‰

**ä»€ä¹ˆæ˜¯é‡ç»˜ï¼Ÿ**
- æµè§ˆå™¨é‡æ–°ç»˜åˆ¶å…ƒç´ çš„å¤–è§‚
- è§¦å‘æ¡ä»¶ï¼šæ”¹å˜ä¸å½±å“å¸ƒå±€çš„è§†è§‰å±æ€§

**è§¦å‘é‡ç»˜çš„å±æ€§ï¼š**
```css
color
background-color
border-color
outline
box-shadow
```

**ä¼˜åŒ–æ–¹æ³•ï¼š**
```css
/* ä½¿ç”¨transformå’Œopacity */
.element {
    transform: scale(1.1);
    opacity: 0.8;
    /* è¿™äº›å±æ€§ä¼šè§¦å‘åˆæˆï¼Œæ€§èƒ½æ›´å¥½ */
}
```

---

### 3. ä½¿ç”¨GPUåŠ é€Ÿ

**GPUåŠ é€Ÿçš„å±æ€§ï¼š**
- `transform`
- `opacity`
- `filter`ï¼ˆéƒ¨åˆ†ï¼‰

**è§¦å‘GPUåŠ é€Ÿï¼š**
```css
.element {
    transform: translateZ(0);  /* è§¦å‘GPUåŠ é€Ÿ */
    /* æˆ– */
    will-change: transform;   /* æç¤ºæµè§ˆå™¨ä¼˜åŒ– */
}
```

---

## ğŸ“¦ é€‰æ‹©å™¨æ€§èƒ½

### é«˜æ•ˆé€‰æ‹©å™¨

```css
/* é«˜æ•ˆï¼šç®€å•é€‰æ‹©å™¨ */
.button { }
#header { }

/* ä½æ•ˆï¼šå¤æ‚é€‰æ‹©å™¨ */
.container .wrapper .content .card .title { }
```

**å»ºè®®ï¼š**
- é¿å…è¿‡åº¦åµŒå¥—ï¼ˆä¸è¶…è¿‡3å±‚ï¼‰
- ä½¿ç”¨ç±»é€‰æ‹©å™¨ä»£æ›¿åä»£é€‰æ‹©å™¨
- é¿å…ä½¿ç”¨é€šé…ç¬¦ `*`

---

## ğŸ¨ CSSæ–‡ä»¶ä¼˜åŒ–

### 1. å‡å°‘æ–‡ä»¶å¤§å°

**æ–¹æ³•ï¼š**
- åˆ é™¤æœªä½¿ç”¨çš„æ ·å¼
- åˆå¹¶ç›¸åŒçš„æ ·å¼è§„åˆ™
- ä½¿ç”¨CSSå˜é‡å‡å°‘é‡å¤
- å‹ç¼©CSSæ–‡ä»¶

**å‹ç¼©å·¥å…·ï¼š**
- CSS Minifier
- PostCSS
- Webpack

---

### 2. å…³é”®CSSå†…è”

**æ¦‚å¿µï¼š**
- å°†é¦–å±éœ€è¦çš„CSSå†…è”åˆ°HTML
- å…¶ä»–CSSå¼‚æ­¥åŠ è½½

**å¥½å¤„ï¼š**
- å‡å°‘é¦–å±æ¸²æŸ“æ—¶é—´
- æå‡ç”¨æˆ·ä½“éªŒ

---

### 3. ä»£ç åˆ†å‰²

**æ–¹æ³•ï¼š**
- æŒ‰é¡µé¢åˆ†å‰²CSS
- æŒ‰ç»„ä»¶åˆ†å‰²CSS
- æŒ‰åŠŸèƒ½åˆ†å‰²CSS

**ç¤ºä¾‹ï¼š**
```
styles/
  â”œâ”€â”€ base.css      # åŸºç¡€æ ·å¼
  â”œâ”€â”€ layout.css    # å¸ƒå±€æ ·å¼
  â”œâ”€â”€ components.css # ç»„ä»¶æ ·å¼
  â””â”€â”€ utilities.css # å·¥å…·ç±»
```

---

## ğŸ–¼ï¸ å›¾ç‰‡ä¼˜åŒ–

### 1. ä½¿ç”¨åˆé€‚çš„æ ¼å¼

- **JPEG**ï¼šç…§ç‰‡ã€å¤æ‚å›¾ç‰‡
- **PNG**ï¼šé€æ˜å›¾ç‰‡ã€ç®€å•å›¾ç‰‡
- **WebP**ï¼šç°ä»£æ ¼å¼ï¼Œæ›´å°ä½“ç§¯
- **SVG**ï¼šå›¾æ ‡ã€çŸ¢é‡å›¾

### 2. å“åº”å¼å›¾ç‰‡

```css
/* ä½¿ç”¨srcset */
<img srcset="image-small.jpg 480w,
             image-medium.jpg 768w,
             image-large.jpg 1200w"
     sizes="(max-width: 768px) 100vw, 50vw"
     src="image-medium.jpg">
```

### 3. æ‡’åŠ è½½

```css
/* ä½¿ç”¨loadingå±æ€§ */
<img src="image.jpg" loading="lazy">
```

---

## ğŸ¬ åŠ¨ç”»æ€§èƒ½

### é«˜æ€§èƒ½åŠ¨ç”»å±æ€§

```css
/* è¿™äº›å±æ€§æ€§èƒ½æœ€å¥½ */
transform: translateX(100px);
transform: scale(1.2);
transform: rotate(45deg);
opacity: 0.5;
```

### ä½æ€§èƒ½åŠ¨ç”»å±æ€§

```css
/* é¿å…ä½¿ç”¨è¿™äº›å±æ€§åšåŠ¨ç”» */
left, top, right, bottom
width, height
margin, padding
```

### ä¼˜åŒ–æŠ€å·§

1. **ä½¿ç”¨will-change**
```css
.element {
    will-change: transform;
    /* æç¤ºæµè§ˆå™¨ä¼˜åŒ– */
}
```

2. **å‡å°‘åŠ¨ç”»å¤æ‚åº¦**
```css
/* ç®€å•åŠ¨ç”» */
@keyframes simple {
    from { transform: translateX(0); }
    to { transform: translateX(100px); }
}
```

3. **ä½¿ç”¨transformä»£æ›¿ä½ç½®**
```css
/* å¥½çš„åšæ³• */
@keyframes move {
    from { transform: translateX(0); }
    to { transform: translateX(100px); }
}

/* é¿å… */
@keyframes move {
    from { left: 0; }
    to { left: 100px; }
}
```

---

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

### 1. å‡å°‘æ–‡ä»¶å¤§å°

- åˆ é™¤æœªä½¿ç”¨çš„æ ·å¼
- å‹ç¼©CSS
- ä½¿ç”¨å…³é”®CSS

### 2. ä¼˜åŒ–å­—ä½“

```css
/* ä½¿ç”¨ç³»ç»Ÿå­—ä½“ */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* é™åˆ¶å­—ä½“æ–‡ä»¶å¤§å° */
@font-face {
    font-family: 'Custom';
    src: url('font.woff2') format('woff2');
    font-display: swap;  /* ä¼˜åŒ–å­—ä½“åŠ è½½ */
}
```

### 3. å‡å°‘åŠ¨ç”»

```css
/* å°Šé‡ç”¨æˆ·åå¥½ */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
    }
}
```

---

## ğŸ” æ€§èƒ½åˆ†æå·¥å…·

### Chrome DevTools

1. **Performanceé¢æ¿**
   - å½•åˆ¶æ€§èƒ½
   - åˆ†æé‡æ’å’Œé‡ç»˜
   - æŸ¥çœ‹FPS

2. **Lighthouse**
   - æ€§èƒ½è¯„åˆ†
   - ä¼˜åŒ–å»ºè®®
   - æœ€ä½³å®è·µæ£€æŸ¥

3. **Coverageé¢æ¿**
   - æŸ¥çœ‹æœªä½¿ç”¨çš„CSS
   - ä¼˜åŒ–æ–‡ä»¶å¤§å°

### åœ¨çº¿å·¥å…·

- **PageSpeed Insights**ï¼šGoogleçš„æ€§èƒ½åˆ†æå·¥å…·
- **WebPageTest**ï¼šè¯¦ç»†çš„æ€§èƒ½æµ‹è¯•
- **GTmetrix**ï¼šæ€§èƒ½è¯„åˆ†å’Œå»ºè®®

---

## âœ… æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•

### ä»£ç å±‚é¢

- [ ] ä½¿ç”¨é«˜æ•ˆçš„é€‰æ‹©å™¨
- [ ] é¿å…è¿‡åº¦åµŒå¥—
- [ ] ä½¿ç”¨CSSå˜é‡å‡å°‘é‡å¤
- [ ] åˆå¹¶ç›¸åŒçš„æ ·å¼è§„åˆ™
- [ ] åˆ é™¤æœªä½¿ç”¨çš„æ ·å¼

### åŠ¨ç”»å±‚é¢

- [ ] ä½¿ç”¨transformä»£æ›¿ä½ç½®å±æ€§
- [ ] ä½¿ç”¨opacityä»£æ›¿visibility
- [ ] å‡å°‘åŠ¨ç”»å¤æ‚åº¦
- [ ] ä½¿ç”¨will-changeæç¤ºä¼˜åŒ–
- [ ] å°Šé‡ç”¨æˆ·åå¥½ï¼ˆprefers-reduced-motionï¼‰

### æ–‡ä»¶å±‚é¢

- [ ] å‹ç¼©CSSæ–‡ä»¶
- [ ] ä½¿ç”¨å…³é”®CSS
- [ ] ä»£ç åˆ†å‰²
- [ ] å¼‚æ­¥åŠ è½½éå…³é”®CSS

### å›¾ç‰‡å±‚é¢

- [ ] ä½¿ç”¨åˆé€‚çš„å›¾ç‰‡æ ¼å¼
- [ ] å“åº”å¼å›¾ç‰‡
- [ ] æ‡’åŠ è½½
- [ ] ä¼˜åŒ–å›¾ç‰‡å¤§å°

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å…³é”®æŒ‡æ ‡

1. **FCP (First Contentful Paint)**
   - é¦–æ¬¡å†…å®¹ç»˜åˆ¶æ—¶é—´
   - ç›®æ ‡ï¼š< 1.8ç§’

2. **LCP (Largest Contentful Paint)**
   - æœ€å¤§å†…å®¹ç»˜åˆ¶æ—¶é—´
   - ç›®æ ‡ï¼š< 2.5ç§’

3. **CLS (Cumulative Layout Shift)**
   - ç´¯ç§¯å¸ƒå±€åç§»
   - ç›®æ ‡ï¼š< 0.1

4. **FID (First Input Delay)**
   - é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ
   - ç›®æ ‡ï¼š< 100æ¯«ç§’

---

## ğŸ’¡ ä¼˜åŒ–æŠ€å·§æ€»ç»“

### å¿«é€Ÿä¼˜åŒ–

1. **åˆ é™¤æœªä½¿ç”¨çš„CSS**
   - ä½¿ç”¨Coverageé¢æ¿
   - ä½¿ç”¨PurgeCSSå·¥å…·

2. **å‹ç¼©CSS**
   - ä½¿ç”¨æ„å»ºå·¥å…·
   - ä½¿ç”¨åœ¨çº¿å·¥å…·

3. **ä½¿ç”¨å…³é”®CSS**
   - å†…è”é¦–å±CSS
   - å¼‚æ­¥åŠ è½½å…¶ä»–CSS

4. **ä¼˜åŒ–é€‰æ‹©å™¨**
   - é¿å…è¿‡åº¦åµŒå¥—
   - ä½¿ç”¨ç±»é€‰æ‹©å™¨

5. **ä¼˜åŒ–åŠ¨ç”»**
   - ä½¿ç”¨transform
   - ä½¿ç”¨opacity
   - å‡å°‘å¤æ‚åº¦

---

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–å·¥ä½œæµ

1. **æµ‹é‡**
   - ä½¿ç”¨Lighthouseæµ‹è¯•
   - è®°å½•æ€§èƒ½æŒ‡æ ‡

2. **åˆ†æ**
   - æ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ
   - ç¡®å®šä¼˜åŒ–ç›®æ ‡

3. **ä¼˜åŒ–**
   - å®æ–½ä¼˜åŒ–æªæ–½
   - æµ‹è¯•æ•ˆæœ

4. **éªŒè¯**
   - å†æ¬¡æµ‹è¯•
   - å¯¹æ¯”ä¼˜åŒ–å‰å

5. **ç›‘æ§**
   - æŒç»­ç›‘æ§
   - ä¿æŒæ€§èƒ½

---

**è®°ä½ï¼šæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­æµ‹è¯•å’Œæ”¹è¿›ï¼** ğŸš€

